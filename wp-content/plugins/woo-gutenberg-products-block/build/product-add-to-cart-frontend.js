(window.webpackWcBlocksJsonp=window.webpackWcBlocksJsonp||[]).push([[67],{103:function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return a}));var c=r(6);let s;!function(t){t.ADD_EVENT_CALLBACK="add_event_callback",t.REMOVE_EVENT_CALLBACK="remove_event_callback"}(s||(s={}));const n={addEventCallback:function(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return{id:Object(c.uniqueId)(),type:s.ADD_EVENT_CALLBACK,eventType:t,callback:e,priority:r}},removeEventCallback:(t,e)=>({id:e,type:s.REMOVE_EVENT_CALLBACK,eventType:t})},o={},a=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,{type:e,eventType:r,id:c,callback:n,priority:a}=arguments.length>1?arguments[1]:void 0;const i=t.hasOwnProperty(r)?new Map(t[r]):new Map;switch(e){case s.ADD_EVENT_CALLBACK:return i.set(c,{priority:a,callback:n}),{...t,[r]:i};case s.REMOVE_EVENT_CALLBACK:return i.delete(c),{...t,[r]:i}}}},145:function(t,e,r){"use strict";var c=r(0);r(211),e.a=()=>Object(c.createElement)("span",{className:"wc-block-components-spinner","aria-hidden":"true"})},19:function(t,e,r){"use strict";r.d(e,"a",(function(){return c})),r.d(e,"b",(function(){return s}));const c=t=>!(t=>null===t)(t)&&t instanceof Object&&t.constructor===Object;function s(t,e){return c(t)&&e in t}},211:function(t,e){},223:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var c=r(103);const s=(t,e)=>function(r){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const n=c.a.addEventCallback(t,r,s);return e(n),()=>{e(c.a.removeEventCallback(t,n.id))}}},226:function(t,e,r){"use strict";r.d(e,"a",(function(){return s})),r.d(e,"b",(function(){return n}));var c=r(36);const s=async(t,e,r)=>{const s=Object(c.a)(t,e),n=[];for(const t of s)try{const e=await Promise.resolve(t.callback(r));"object"==typeof e&&n.push(e)}catch(t){console.error(t)}return!n.length||n},n=async(t,e,r)=>{const s=[],n=Object(c.a)(t,e);for(const t of n)try{const e=await Promise.resolve(t.callback(r));if("object"!=typeof e||null===e)continue;if(!e.hasOwnProperty("type"))throw new Error("Returned objects from event emitter observers must return an object with a type property");if(Object(c.b)(e)||Object(c.c)(e))return s.push(e),s;s.push(e)}catch(t){return console.error(t),s.push({type:"error"}),s}return s}},274:function(t,e,r){"use strict";var c=r(15),s=r.n(c),n=r(0),o=r(62),a=r(7),i=r.n(a),u=r(145);r(275),e.a=t=>{let{className:e,showSpinner:r=!1,children:c,variant:a="contained",...l}=t;const d=i()("wc-block-components-button","wp-element-button",e,a,{"wc-block-components-button--loading":r});return Object(n.createElement)(o.a,s()({className:d},l),r&&Object(n.createElement)(u.a,null),Object(n.createElement)("span",{className:"wc-block-components-button__text"},c))}},275:function(t,e){},29:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var c=r(0),s=r(13),n=r.n(s);function o(t){const e=Object(c.useRef)(t);return n()(t,e.current)||(e.current=t),e.current}},325:function(t,e){},326:function(t,e){},340:function(t,e,r){"use strict";var c=r(0),s=r(7),n=r.n(s),o=r(1),a=r(29);const i=t=>t.is_purchasable||!1;var u=r(5),l=r(3);const d={PRISTINE:"pristine",IDLE:"idle",DISABLED:"disabled",PROCESSING:"processing",BEFORE_PROCESSING:"before_processing",AFTER_PROCESSING:"after_processing"},b={status:d.PRISTINE,hasError:!1,quantity:0,processingResponse:null,requestParams:{}},E={SET_PRISTINE:"set_pristine",SET_IDLE:"set_idle",SET_DISABLED:"set_disabled",SET_PROCESSING:"set_processing",SET_BEFORE_PROCESSING:"set_before_processing",SET_AFTER_PROCESSING:"set_after_processing",SET_PROCESSING_RESPONSE:"set_processing_response",SET_HAS_ERROR:"set_has_error",SET_NO_ERROR:"set_no_error",SET_QUANTITY:"set_quantity",SET_REQUEST_PARAMS:"set_request_params"},{SET_PRISTINE:p,SET_IDLE:m,SET_DISABLED:O,SET_PROCESSING:_,SET_BEFORE_PROCESSING:h,SET_AFTER_PROCESSING:f,SET_PROCESSING_RESPONSE:S,SET_HAS_ERROR:j,SET_NO_ERROR:g,SET_QUANTITY:v,SET_REQUEST_PARAMS:y}=E,R=()=>({type:m}),T=function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const e=t?j:g;return{type:e}},{SET_PRISTINE:A,SET_IDLE:P,SET_DISABLED:C,SET_PROCESSING:N,SET_BEFORE_PROCESSING:I,SET_AFTER_PROCESSING:w,SET_PROCESSING_RESPONSE:k,SET_HAS_ERROR:D,SET_NO_ERROR:F,SET_QUANTITY:L,SET_REQUEST_PARAMS:B}=E,{PRISTINE:q,IDLE:x,DISABLED:G,PROCESSING:M,BEFORE_PROCESSING:V,AFTER_PROCESSING:Q}=d,H=function(){let t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,{quantity:r,type:c,data:s}=arguments.length>1?arguments[1]:void 0;switch(c){case A:t=b;break;case P:t=e.status!==x?{...e,status:x}:e;break;case C:t=e.status!==G?{...e,status:G}:e;break;case L:t=r!==e.quantity?{...e,quantity:r}:e;break;case B:t={...e,requestParams:{...e.requestParams,...s}};break;case k:t={...e,processingResponse:s};break;case N:t=e.status!==M?{...e,status:M,hasError:!1}:e,t=!1===t.hasError?t:{...t,hasError:!1};break;case I:t=e.status!==V?{...e,status:V,hasError:!1}:e;break;case w:t=e.status!==Q?{...e,status:Q}:e;break;case D:t=e.hasError?e:{...e,hasError:!0},t=e.status===M||e.status===V?{...t,status:x}:t;break;case F:t=e.hasError?{...e,hasError:!1}:e}return t!==e&&c!==A&&t.status===q&&(t.status=x),t};var K=r(103),W=r(223);const Y=t=>({onAddToCartAfterProcessingWithSuccess:Object(W.a)("add_to_cart_after_processing_with_success",t),onAddToCartProcessingWithError:Object(W.a)("add_to_cart_after_processing_with_error",t),onAddToCartBeforeProcessing:Object(W.a)("add_to_cart_before_processing",t)});var U=r(226),J=r(36);const X=Object(c.createContext)({product:{},productType:"simple",productIsPurchasable:!0,productHasOptions:!1,supportsFormElements:!0,showFormElements:!1,quantity:0,minQuantity:1,maxQuantity:99,requestParams:{},isIdle:!1,isDisabled:!1,isProcessing:!1,isBeforeProcessing:!1,isAfterProcessing:!1,hasError:!1,eventRegistration:{onAddToCartAfterProcessingWithSuccess:t=>{},onAddToCartAfterProcessingWithError:t=>{},onAddToCartBeforeProcessing:t=>{}},dispatchActions:{resetForm:()=>{},submitForm:()=>{},setQuantity:t=>{},setHasError:t=>{},setAfterProcessing:t=>{},setRequestParams:t=>{}}}),z=()=>Object(c.useContext)(X),Z=t=>{var e,r,s,n;let{children:E,product:m,showFormElements:j}=t;const[g,A]=Object(c.useReducer)(H,b),[P,C]=Object(c.useReducer)(K.b,{}),N=Object(a.a)(P),{createErrorNotice:I}=Object(u.useDispatch)("core/notices"),{setValidationErrors:w}=Object(u.useDispatch)(l.VALIDATION_STORE_KEY),k=Object(c.useMemo)(()=>({onAddToCartAfterProcessingWithSuccess:Y(C).onAddToCartAfterProcessingWithSuccess,onAddToCartAfterProcessingWithError:Y(C).onAddToCartAfterProcessingWithError,onAddToCartBeforeProcessing:Y(C).onAddToCartBeforeProcessing}),[C]),D=Object(c.useMemo)(()=>({resetForm:()=>{A({type:p})},submitForm:()=>{A({type:h})},setQuantity:t=>{A((t=>({type:v,quantity:t}))(t))},setHasError:t=>{A(T(t))},setRequestParams:t=>{A((t=>({type:y,data:t}))(t))},setAfterProcessing:t=>{A({type:S,data:t}),A({type:f})}}),[]);Object(c.useEffect)(()=>{const t=g.status,e=!m.id||!i(m);t!==d.DISABLED||e?t!==d.DISABLED&&e&&A({type:O}):A(R())},[g.status,m,A]),Object(c.useEffect)(()=>{g.status===d.BEFORE_PROCESSING&&(((t,e)=>{const r=Object(u.select)("core/notices").getNotices("wc/add-to-cart"),{removeNotice:c}=Object(u.dispatch)("core/notices");r.filter(t=>"error"===t.status).forEach(t=>c(t.id,"wc/add-to-cart"))})(),Object(U.a)(N,"add_to_cart_before_processing",{}).then(t=>{!0!==t?(Array.isArray(t)&&t.forEach(t=>{let{errorMessage:e,validationErrors:r}=t;e&&I(e,{context:"wc/add-to-cart"}),r&&w(r)}),A(R())):A({type:_})}))},[g.status,w,I,A,N,null==m?void 0:m.id]),Object(c.useEffect)(()=>{if(g.status===d.AFTER_PROCESSING){const t={processingResponse:g.processingResponse},e=t=>{let e=!1;return t.forEach(t=>{const{message:r,messageContext:c}=t;(Object(J.b)(t)||Object(J.c)(t))&&r&&(e=!0,I(r,c?{context:c}:void 0))}),e};if(g.hasError)return void Object(U.b)(N,"add_to_cart_after_processing_with_error",t).then(r=>{if(!e(r)){var c;const e=(null===(c=t.processingResponse)||void 0===c?void 0:c.message)||Object(o.__)("Something went wrong. Please contact us for assistance.","woo-gutenberg-products-block");I(e,{id:"add-to-cart",context:"woocommerce/single-product/"+((null==m?void 0:m.id)||0)})}A(R())});Object(U.b)(N,"add_to_cart_after_processing_with_success",t).then(t=>{e(t)?A(T(!0)):A(R())})}},[g.status,g.hasError,g.processingResponse,D,I,N,null==m?void 0:m.id]);const F=(t=>["simple","variable"].includes(t.type||"simple"))(m),L={product:m,productType:m.type||"simple",productIsPurchasable:i(m),productHasOptions:m.has_options||!1,supportsFormElements:F,showFormElements:j&&F,quantity:g.quantity||(null==m||null===(e=m.add_to_cart)||void 0===e?void 0:e.minimum)||1,minQuantity:(null==m||null===(r=m.add_to_cart)||void 0===r?void 0:r.minimum)||1,maxQuantity:(null==m||null===(s=m.add_to_cart)||void 0===s?void 0:s.maximum)||99,multipleOf:(null==m||null===(n=m.add_to_cart)||void 0===n?void 0:n.multiple_of)||1,requestParams:g.requestParams,isIdle:g.status===d.IDLE,isDisabled:g.status===d.DISABLED,isProcessing:g.status===d.PROCESSING,isBeforeProcessing:g.status===d.BEFORE_PROCESSING,isAfterProcessing:g.status===d.AFTER_PROCESSING,hasError:g.hasError,eventRegistration:k,dispatchActions:D};return Object(c.createElement)(X.Provider,{value:L},E)};var $=r(33),tt=r.n($),et=r(30),rt=r(87),ct=r(38),st=()=>{const{dispatchActions:t,product:e,quantity:r,eventRegistration:s,hasError:n,isProcessing:a,requestParams:i}=z(),{showAllValidationErrors:d}=Object(u.useDispatch)(l.VALIDATION_STORE_KEY),b=Object(u.useSelect)(t=>t(l.VALIDATION_STORE_KEY).hasValidationErrors),{createErrorNotice:E,removeNotice:p}=Object(u.useDispatch)("core/notices"),{receiveCart:m}=Object(ct.a)(),[O,_]=Object(c.useState)(!1),h=!n&&a,f=Object(c.useCallback)(()=>!b()||(d(),{type:"error"}),[b,d]);Object(c.useEffect)(()=>{const t=s.onAddToCartBeforeProcessing(f,0);return()=>{t()}},[s,f]);const S=Object(c.useCallback)(()=>{_(!0),p("add-to-cart","woocommerce/single-product/"+((null==e?void 0:e.id)||0));const c={id:e.id||0,quantity:r,...i};tt()({path:"/wc/store/v1/cart/add-item",method:"POST",data:c,cache:"no-store",parse:!1}).then(r=>{tt.a.setNonce(r.headers),r.json().then((function(c){r.ok?m(c):(c.body&&c.body.message?E(Object(et.decodeEntities)(c.body.message),{id:"add-to-cart",context:"woocommerce/single-product/"+((null==e?void 0:e.id)||0)}):E(Object(o.__)("Something went wrong. Please contact us for assistance.","woo-gutenberg-products-block"),{id:"add-to-cart",context:"woocommerce/single-product/"+((null==e?void 0:e.id)||0)}),t.setHasError()),Object(rt.c)({preserveCartData:!0}),t.setAfterProcessing(c),_(!1)}))}).catch(e=>{e.json().then((function(e){var r;null!==(r=e.data)&&void 0!==r&&r.cart&&m(e.data.cart),t.setHasError(),t.setAfterProcessing(e),_(!1)}))})},[e,E,p,m,t,r,i]);return Object(c.useEffect)(()=>{h&&!O&&S()},[h,S,O]),null};const nt=t=>{let{children:e,product:r,showFormElements:s}=t;return Object(c.createElement)(Z,{product:r,showFormElements:s},e,Object(c.createElement)(st,null))};var ot=r(47),at=r(6),it=r(136),ut=(r(325),r(274)),lt=r(73),dt=r(381),bt=r(69),Et=r(347);const pt=t=>{let{className:e,href:r,text:s,onClick:n}=t;return Object(c.createElement)(ut.a,{className:e,href:r,onClick:n,rel:"nofollow"},s)},mt=t=>{let{className:e,quantityInCart:r,isProcessing:s,isDisabled:n,isDone:a,onClick:i}=t;return Object(c.createElement)(ut.a,{className:e,disabled:n,showSpinner:s,onClick:i},a&&r>0?Object(o.sprintf)(
/* translators: %s number of products in cart. */
Object(o._n)("%d in cart","%d in cart",r,"woo-gutenberg-products-block"),r):Object(o.__)("Add to cart","woo-gutenberg-products-block"),!!a&&Object(c.createElement)(lt.a,{icon:dt.a}))};var Ot=()=>{const{showFormElements:t,productIsPurchasable:e,productHasOptions:r,product:s,productType:n,isDisabled:a,isProcessing:i,eventRegistration:u,hasError:l,dispatchActions:d}=z(),{parentName:b}=Object(ot.useInnerBlockLayoutContext)(),{dispatchStoreEvent:E}=Object(bt.a)(),{cartQuantity:p}=Object(Et.a)(s.id||0),[m,O]=Object(c.useState)(!1),_=s.add_to_cart||{url:"",text:""};return Object(c.useEffect)(()=>{const t=u.onAddToCartAfterProcessingWithSuccess(()=>(l||O(!0),!0),0);return()=>{t()}},[u,l]),(t||!r&&"simple"===n)&&e?Object(c.createElement)(mt,{className:"wc-block-components-product-add-to-cart-button",quantityInCart:p,isDisabled:a,isProcessing:i,isDone:m,onClick:()=>{d.submitForm("woocommerce/single-product/"+((null==s?void 0:s.id)||0)),E("cart-add-item",{product:s,listName:b})}}):Object(c.createElement)(pt,{className:"wc-block-components-product-add-to-cart-button",href:_.url,text:_.text||Object(o.__)("View Product","woo-gutenberg-products-block"),onClick:()=>{E("product-view-link",{product:s,listName:b})}})},_t=r(50),ht=t=>{let{disabled:e,min:r,max:s,step:n=1,value:o,onChange:a}=t;const i=void 0!==s,u=Object(_t.a)(t=>{let e=t;i&&(e=Math.min(e,Math.floor(s/n)*n)),e=Math.max(e,Math.ceil(r/n)*n),e=Math.floor(e/n)*n,e!==t&&a(e)},300);return Object(c.createElement)("input",{className:"wc-block-components-product-add-to-cart-quantity",type:"number",value:o,min:r,max:s,step:n,hidden:1===s,disabled:e,onChange:t=>{a(t.target.value),u(t.target.value)}})},ft=t=>{let{reason:e=Object(o.__)("Sorry, this product cannot be purchased.","woo-gutenberg-products-block")}=t;return Object(c.createElement)("div",{className:"wc-block-components-product-add-to-cart-unavailable"},e)},St=()=>{const{product:t,quantity:e,minQuantity:r,maxQuantity:s,multipleOf:n,dispatchActions:a,isDisabled:i}=z();return t.id&&!t.is_purchasable?Object(c.createElement)(ft,null):t.id&&!t.is_in_stock?Object(c.createElement)(ft,{reason:Object(o.__)("This product is currently out of stock and cannot be purchased.","woo-gutenberg-products-block")}):Object(c.createElement)(c.Fragment,null,Object(c.createElement)(ht,{value:e,min:r,max:s,step:n,disabled:i,onChange:a.setQuantity}),Object(c.createElement)(Ot,null))},jt=(r(326),r(448)),gt=r(8),vt=r(9);const yt={value:"",label:Object(o.__)("Select an option","woo-gutenberg-products-block")};var Rt=t=>{let{attributeName:e,options:r=[],value:s="",onChange:a=(()=>{}),errorMessage:i=Object(o.__)("Please select a value.","woo-gutenberg-products-block")}=t;const d=e,{setValidationErrors:b,clearValidationError:E}=Object(u.useDispatch)(l.VALIDATION_STORE_KEY),{error:p}=Object(u.useSelect)(t=>({error:t(l.VALIDATION_STORE_KEY).getValidationError(d)||{}}));return Object(gt.useEffect)(()=>{s?E(d):b({[d]:{message:i,hidden:!0}})},[s,d,i,E,b]),Object(gt.useEffect)(()=>()=>{E(d)},[d,E]),Object(c.createElement)("div",{className:"wc-block-components-product-add-to-cart-attribute-picker__container"},Object(c.createElement)(jt.a,{label:Object(et.decodeEntities)(e),value:s||"",options:[yt,...r],onChange:a,required:!0,className:n()("wc-block-components-product-add-to-cart-attribute-picker__select",{"has-error":(null==p?void 0:p.message)&&!(null!=p&&p.hidden)})}),Object(c.createElement)(vt.ValidationInputError,{propertyName:d,elementId:d}))},Tt=r(19);const At=(t,e,r)=>{const c=Object.values(e).map(t=>{let{id:e}=t;return e});if(Object.values(r).every(t=>""===t))return c;const s=Object.keys(t);return c.filter(t=>s.every(c=>{const s=r[c]||"",n=e["id:"+t].attributes[c];return""===s||null===n||n===s}))};var Pt=t=>{let{attributes:e,variationAttributes:r,setRequestParams:s}=t;const n=Object(a.a)(e),o=Object(a.a)(r),[i,u]=Object(c.useState)(0),[l,d]=Object(c.useState)({}),[b,E]=Object(c.useState)(!1),p=Object(c.useMemo)(()=>((t,e,r)=>{const c={},s=Object.keys(t),n=Object.values(r).filter(Boolean).length>0;return s.forEach(s=>{const o=t[s],a={...r,[s]:null},i=n?At(t,e,a):null,u=null!==i?i.map(t=>e["id:"+t].attributes[s]):null;c[s]=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object.values(t).map(t=>{let{name:r,slug:c}=t;return null===e||e.includes(null)||e.includes(c)?{value:c,label:Object(et.decodeEntities)(r)}:null}).filter(Boolean)}(o.terms,u)}),c})(n,o,l),[l,n,o]);return Object(c.useEffect)(()=>{if(!b){const t=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Object(Tt.a)(t))return{};const e=Object.keys(t),r={};return 0===e.length||e.forEach(e=>{const c=t[e],s=c.terms.filter(t=>t.default);var n;s.length>0&&(r[c.name]=null===(n=s[0])||void 0===n?void 0:n.slug)}),r}(e);t&&d({...t}),E(!0)}},[l,e,b]),Object(c.useEffect)(()=>{Object.values(l).filter(t=>""!==t).length===Object.keys(n).length?u(((t,e,r)=>At(t,e,r)[0]||0)(n,o,l)):i>0&&u(0)},[l,i,n,o]),Object(c.useEffect)(()=>{s({id:i,variation:Object.keys(l).map(t=>({attribute:t,value:l[t]}))})},[s,i,l]),Object(c.createElement)("div",{className:"wc-block-components-product-add-to-cart-attribute-picker"},Object.keys(n).map(t=>Object(c.createElement)(Rt,{key:t,attributeName:t,options:p[t],value:l[t],onChange:e=>{d({...l,[t]:e})}})))},Ct=t=>{let{product:e,dispatchers:r}=t;const s=(t=>t?Object(at.keyBy)(Object.values(t).filter(t=>{let{has_variations:e}=t;return e}),"name"):{})(e.attributes),n=(t=>{if(!t)return{};const e={};return t.forEach(t=>{let{id:r,attributes:c}=t;e["id:"+r]={id:r,attributes:c.reduce((t,e)=>{let{name:r,value:c}=e;return t[r]=c,t},{})}}),e})(e.variations);return 0===Object.keys(s).length||0===n.length?null:Object(c.createElement)(Pt,{attributes:s,variationAttributes:n,setRequestParams:r.setRequestParams})},Nt=()=>{const{product:t,quantity:e,minQuantity:r,maxQuantity:s,multipleOf:n,dispatchActions:a,isDisabled:i}=z();return t.id&&!t.is_purchasable?Object(c.createElement)(ft,null):t.id&&!t.is_in_stock?Object(c.createElement)(ft,{reason:Object(o.__)("This product is currently out of stock and cannot be purchased.","woo-gutenberg-products-block")}):Object(c.createElement)(c.Fragment,null,Object(c.createElement)(Ct,{product:t,dispatchers:a}),Object(c.createElement)(ht,{value:e,min:r,max:s,step:n,disabled:i,onChange:a.setQuantity}),Object(c.createElement)(Ot,null))},It=()=>Object(c.createElement)(Ot,null),wt=r(356),kt=()=>Object(c.createElement)(wt.a,{className:"wc-block-components-product-add-to-cart-group-list"},"This is a placeholder for the grouped products form element."),Dt=()=>Object(c.createElement)(kt,null);const Ft=()=>{const{showFormElements:t,productType:e}=z();return t?"variable"===e?Object(c.createElement)(Nt,null):"grouped"===e?Object(c.createElement)(Dt,null):"external"===e?Object(c.createElement)(It,null):"simple"===e||"variation"===e?Object(c.createElement)(St,null):null:Object(c.createElement)(Ot,null)};e.a=Object(it.withProductDataContext)(t=>{let{className:e,showFormElements:r}=t;const{product:s}=Object(ot.useProductDataContext)(),o=n()(e,"wc-block-components-product-add-to-cart",{"wc-block-components-product-add-to-cart--placeholder":Object(at.isEmpty)(s)});return Object(c.createElement)(nt,{product:s,showFormElements:r},Object(c.createElement)("div",{className:o},Object(c.createElement)(Ft,null)))})},347:function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));var c=r(0),s=r(5),n=r(3),o=r(30),a=r(38);const i=(t,e)=>{const r=t.find(t=>{let{id:r}=t;return r===e});return r?r.quantity:0},u=t=>{const{addItemToCart:e}=Object(s.useDispatch)(n.CART_STORE_KEY),{cartItems:r,cartIsLoading:u}=Object(a.a)(),{createErrorNotice:l,removeNotice:d}=Object(s.useDispatch)("core/notices"),[b,E]=Object(c.useState)(!1),p=Object(c.useRef)(i(r,t));return Object(c.useEffect)(()=>{const e=i(r,t);e!==p.current&&(p.current=e)},[r,t]),{cartQuantity:Number.isFinite(p.current)?p.current:0,addingToCart:b,cartIsLoading:u,addToCart:function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return E(!0),e(t,r).then(()=>{d("add-to-cart")}).catch(t=>{l(Object(o.decodeEntities)(t.message),{id:"add-to-cart",context:"wc/all-products",isDismissible:!0})}).finally(()=>{E(!1)})}}}},36:function(t,e,r){"use strict";r.d(e,"a",(function(){return s})),r.d(e,"e",(function(){return n})),r.d(e,"d",(function(){return o})),r.d(e,"b",(function(){return i})),r.d(e,"c",(function(){return u}));var c=r(19);const s=(t,e)=>t[e]?Array.from(t[e].values()).sort((t,e)=>t.priority-e.priority):[];let n,o;!function(t){t.SUCCESS="success",t.FAIL="failure",t.ERROR="error"}(n||(n={})),function(t){t.CART="wc/cart",t.CHECKOUT="wc/checkout",t.PAYMENTS="wc/checkout/payments",t.EXPRESS_PAYMENTS="wc/checkout/express-payments",t.CONTACT_INFORMATION="wc/checkout/contact-information",t.SHIPPING_ADDRESS="wc/checkout/shipping-address",t.BILLING_ADDRESS="wc/checkout/billing-address",t.SHIPPING_METHODS="wc/checkout/shipping-methods",t.CHECKOUT_ACTIONS="wc/checkout/checkout-actions"}(o||(o={}));const a=(t,e)=>Object(c.a)(t)&&"type"in t&&t.type===e,i=t=>a(t,n.ERROR),u=t=>a(t,n.FAIL)},485:function(t,e,r){"use strict";r.r(e);var c=r(136),s=r(340);e.default=Object(c.withFilteredAttributes)({showFormElements:{type:"boolean",default:!1},productId:{type:"number",default:0}})(s.a)},7:function(t,e,r){var c;!function(){"use strict";var r={}.hasOwnProperty;function s(){for(var t=[],e=0;e<arguments.length;e++){var c=arguments[e];if(c){var n=typeof c;if("string"===n||"number"===n)t.push(c);else if(Array.isArray(c)){if(c.length){var o=s.apply(null,c);o&&t.push(o)}}else if("object"===n)if(c.toString===Object.prototype.toString)for(var a in c)r.call(c,a)&&c[a]&&t.push(a);else t.push(c.toString())}}return t.join(" ")}t.exports?(s.default=s,t.exports=s):void 0===(c=function(){return s}.apply(e,[]))||(t.exports=c)}()}}]);